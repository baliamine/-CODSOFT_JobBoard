{"ast":null,"code":"import{useEffect,useState}from\"react\";import UseEmployerContext from\"../../hooks/UseEmployerContext\";import\"./Profile.css\";import pen from\"../../img/pen.png\";import gps from\"../../img/gps.png\";import NavbarEmployer from\"../../components/Navbar/NavbarEmployer\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EmployerProfile=()=>{const{employers,dispatch}=UseEmployerContext();const[popup,setPopup]=useState(false);const[employerData,setEmployerData]=useState({name:\"\",companyName:\"\",email:\"\",bio:\"\"});const idEmployer=\"66cb27361832cdc4bc0cef66\";useEffect(()=>{const fetchEmployer=async()=>{const response=await fetch(`/API/Employer/single-employer/${idEmployer}`);const data=await response.json();if(response.ok){dispatch({type:\"SET_EMPLOYER\",payload:data});setEmployerData({name:data.name,companyName:data.companyName,email:data.email,bio:data.bio});}};fetchEmployer();},[dispatch]);const handleChange=e=>{const{name,value}=e.target;setEmployerData(prevData=>({...prevData,[name]:value}));};const handleEdit=async()=>{const response=await fetch(`/API/Employer/update-employer/${idEmployer}`,{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(employerData)});const data=await response.json();if(response.ok){dispatch({type:\"UPDATE_EMPLOYER\",payload:data});// Correct usage of dispatch\nsetPopup(false);// Close the popup after successful update\n}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavbarEmployer,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://randomuser.me/api/portraits/men/52.jpg\",alt:\"Profile\",className:\"profile-logo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"user-name\",children:employers===null||employers===void 0?void 0:employers.name}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"employer-company\",children:employers===null||employers===void 0?void 0:employers.companyName}),/*#__PURE__*/_jsx(\"img\",{className:\"gps\",src:gps,alt:\"none\"})]})]}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPopup(true),children:/*#__PURE__*/_jsx(\"img\",{className:\"edit\",src:pen,alt:\"none\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Profile\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"About me\"}),/*#__PURE__*/_jsx(\"p\",{className:\"about-me-content\",children:employers===null||employers===void 0?void 0:employers.bio})]})]}),popup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Profile\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>setPopup(false),children:\"X\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleEdit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:employerData.name,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Company Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"companyName\",value:employerData.companyName,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Email:\",/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:employerData.email,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Bio:\",/*#__PURE__*/_jsx(\"textarea\",{name:\"bio\",value:employerData.bio,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setPopup(false),children:\"Cancel\"})]})]})]})})]});};export default EmployerProfile;","map":{"version":3,"names":["useEffect","useState","UseEmployerContext","pen","gps","NavbarEmployer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EmployerProfile","employers","dispatch","popup","setPopup","employerData","setEmployerData","name","companyName","email","bio","idEmployer","fetchEmployer","response","fetch","data","json","ok","type","payload","handleChange","e","value","target","prevData","handleEdit","method","headers","body","JSON","stringify","children","className","src","alt","onClick","onSubmit","onChange"],"sources":["C:/Users/DELL/OneDrive/Desktop/MERN STACK/frontend/src/pages/Employer-profile/EmployerProfile.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport UseEmployerContext from \"../../hooks/UseEmployerContext\";\r\nimport \"./Profile.css\";\r\nimport pen from \"../../img/pen.png\";\r\nimport gps from \"../../img/gps.png\";\r\nimport NavbarEmployer from \"../../components/Navbar/NavbarEmployer\";\r\n\r\nconst EmployerProfile = () => {\r\n  const { employers, dispatch } = UseEmployerContext();\r\n  const [popup, setPopup] = useState(false);\r\n  const [employerData, setEmployerData] = useState({\r\n    name: \"\",\r\n    companyName: \"\",\r\n    email: \"\",\r\n    bio: \"\",\r\n  });\r\n\r\n  const idEmployer = \"66cb27361832cdc4bc0cef66\";\r\n\r\n  useEffect(() => {\r\n    const fetchEmployer = async () => {\r\n      const response = await fetch(\r\n        `/API/Employer/single-employer/${idEmployer}`\r\n      );\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        dispatch({ type: \"SET_EMPLOYER\", payload: data });\r\n        setEmployerData({\r\n          name: data.name,\r\n          companyName: data.companyName,\r\n          email: data.email,\r\n          bio: data.bio,\r\n        });\r\n      }\r\n    };\r\n    fetchEmployer();\r\n  }, [dispatch]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setEmployerData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleEdit = async () => {\r\n    const response = await fetch(\r\n      `/API/Employer/update-employer/${idEmployer}`,\r\n      {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(employerData),\r\n      }\r\n    );\r\n    const data = await response.json();\r\n    if (response.ok) {\r\n      dispatch({ type: \"UPDATE_EMPLOYER\", payload: data }); // Correct usage of dispatch\r\n      setPopup(false); // Close the popup after successful update\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavbarEmployer />\r\n\r\n      <div className=\"container-profile\">\r\n        {/* Profile Header */}\r\n\r\n        <div className=\"profile-header\">\r\n          <img\r\n            src={\"https://randomuser.me/api/portraits/men/52.jpg\"}\r\n            alt=\"Profile\"\r\n            className=\"profile-logo\"\r\n          />\r\n          <div className=\"profile-info\">\r\n            <h1 className=\"user-name\">{employers?.name}</h1>\r\n            <div>\r\n              <p className=\"employer-company\">{employers?.companyName}</p>\r\n              <img className=\"gps\" src={gps} alt=\"none\" />\r\n            </div>\r\n          </div>\r\n          <div />\r\n          <button onClick={() => setPopup(true)}>\r\n            <img className=\"edit\" src={pen} alt=\"none\" />\r\n          </button>\r\n        </div>\r\n        {/* About Me Section */}\r\n        <div className=\"Profile\">\r\n          <h2 className=\"section-title\">About me</h2>\r\n          <p className=\"about-me-content\">{employers?.bio}</p>\r\n        </div>\r\n      </div>\r\n      {/* Popup for editing employer details */}\r\n      {popup && (\r\n        <div className=\"popup\">\r\n          <div className=\"popup-content\">\r\n            <h2>Edit Profile</h2>\r\n            <button className=\"close-btn\" onClick={() => setPopup(false)}>\r\n              X\r\n            </button>\r\n            <form onSubmit={handleEdit}>\r\n              <label>\r\n                Name:\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  value={employerData.name}\r\n                  onChange={handleChange}\r\n                />\r\n              </label>\r\n              <label>\r\n                Company Name:\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"companyName\"\r\n                  value={employerData.companyName}\r\n                  onChange={handleChange}\r\n                />\r\n              </label>\r\n              <label>\r\n                Email:\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  value={employerData.email}\r\n                  onChange={handleChange}\r\n                />\r\n              </label>\r\n              <label>\r\n                Bio:\r\n                <textarea\r\n                  name=\"bio\"\r\n                  value={employerData.bio}\r\n                  onChange={handleChange}\r\n                />\r\n              </label>\r\n              <div className=\"popup-actions\">\r\n                <button type=\"submit\">Save</button>\r\n                <button type=\"button\" onClick={() => setPopup(false)}>\r\n                  Cancel\r\n                </button>\r\n                \r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EmployerProfile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}